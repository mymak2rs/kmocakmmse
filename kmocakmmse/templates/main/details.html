{% extends "main/base.html" %}
{% load bootstrap5 %} 
{% load static %}

{% block title %}세부 항목 입력{% endblock %}

{% block head %}
<link rel="stylesheet" type="text/css" href="{% static 'css/details.css' %}">
{% endblock %}
{% block content %}

{% if request.session.info %}
{% else %}
<script>
    alert('환자 정보를 입력해주세요.'); 
    window.location.replace("/main/info/");
</script>
{% endif %}

<div style="text-align: center; width: 90%; margin: 3% auto">
    <h1>세부 항목 입력</h1>
    <form action="" method="POST" id="KForm">
        {% bootstrap_form_errors mocaform layout='inline' %}
        {% csrf_token %}

        <div id = "moca" class="left">
            <table class="table">  
                <thead>
                    <h3><u> K-MoCA 결과 입력 </u></h3>
                    <br>
                    <tr>
                        <th class="area">영역</th>
                        <th class="question">문항</th>
                        <th class="score">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;점수</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td rowspan="5">시공간/집행기능</td>
                        <td>{{ mocaform.mc_atm.label }}</td>
                        <td>{{ mocaform.mc_atm }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_cube.label }}</td>
                        <td>{{ mocaform.mc_cube }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_clock_cont.label }}</td>
                        <td>{{ mocaform.mc_clock_cont }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_clock_num.label }}</td>
                        <td>{{ mocaform.mc_clock_num }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_clock_hands.label }}</td>
                        <td>{{ mocaform.mc_clock_hands }}</td>
                    </tr>

                    <tr>
                        <td rowspan="3">이름대기</td>
                        <td>{{ mocaform.mc_lion.label }}</td>
                        <td>{{ mocaform.mc_lion }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_bat.label }}</td>
                        <td>{{ mocaform.mc_bat }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_camel.label }}</td>
                        <td>{{ mocaform.mc_camel }}</td>
                    </tr>

                    <tr>
                        <td rowspan="2">기억력 즉각회상</td>
                        <td>{{ mocaform.mc_re_1.label }}</td>
                        <td>{{ mocaform.mc_re_1 }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_re_2.label }}</td>
                        <td>{{ mocaform.mc_re_2 }}</td>
                    </tr>

                    <tr>
                        <td rowspan="4">주의력</td>
                        <td>{{ mocaform.mc_forward.label }}</td>
                        <td>{{ mocaform.mc_forward }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_backward.label }}</td>
                        <td>{{ mocaform.mc_backward }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_vigilance.label }}</td>
                        <td>{{ mocaform.mc_vigilance }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_serial_7s.label }}</td>
                        <td>{{ mocaform.mc_serial_7s }}</td>
                    </tr>

                    <tr>
                        <td rowspan="3">언어</td>
                        <td>{{ mocaform.mc_sentence_1.label }}</td>
                        <td>{{ mocaform.mc_sentence_1 }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_sentence_2.label }}</td>
                        <td>{{ mocaform.mc_sentence_2 }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_fluency.label }}</td>
                        <td>{{ mocaform.mc_fluency }}</td>
                    </tr>
                    
                    <tr>
                        <td rowspan="2">추상력</td>
                        <td>{{ mocaform.mc_abstraction_1.label }}</td>
                        <td>{{ mocaform.mc_abstraction_1 }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_abstraction_2.label }}</td>
                        <td>{{ mocaform.mc_abstraction_2 }}</td>
                    </tr>

                    <tr>
                        <td rowspan="7">지연회상</td>
                        <td>{{ mocaform.mc_face.label }}</td>
                        <td>{{ mocaform.mc_face }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_silks.label }}</td>
                        <td>{{ mocaform.mc_silks }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_school.label }}</td>
                        <td>{{ mocaform.mc_school }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_pipe.label }}</td>
                        <td>{{ mocaform.mc_pipe }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_yellow.label }}</td>
                        <td>{{ mocaform.mc_yellow }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_de_1.label }}</td>
                        <td>{{ mocaform.mc_de_1 }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_de_2.label }}</td>
                        <td>{{ mocaform.mc_de_2 }}</td>
                    </tr>                                                

                    <tr>
                        <td rowspan="6">지남력</td>
                        <td>{{ mocaform.mc_date.label }}</td>
                        <td>{{ mocaform.mc_date }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_month.label }}</td>
                        <td>{{ mocaform.mc_month }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_year.label }}</td>
                        <td>{{ mocaform.mc_year }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_day.label }}</td>
                        <td>{{ mocaform.mc_day }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_place.label }}</td>
                        <td>{{ mocaform.mc_place }}</td>
                    </tr>
                    <tr>
                        <td>{{ mocaform.mc_city.label }}</td>
                        <td>{{ mocaform.mc_city }}</td>
                    </tr>

                    <tr>
                        <td>K-MoCA총점</td>
                        <td> </td>
                        <td>{{ mocaform.mc_score }}</td>
                    </tr>
                </tbody>
            </table>
            <table class="table">  
                <thead>
                    <tr>
                        <th class="area">영역</th>
                        <th class="question">문항</th>
                        <th class="score">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;점수</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td rowspan="5">K-MMSE</td>
                        <td>{{ mocaform.ms_pentagon.label }}</td>
                        <td>{{ mocaform.ms_pentagon }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
</div>
<div id="footer">
    {% buttons %}
    <br>
    <button type="submit" form="KForm" class="btn btn-dark rounded-pill md-3">인지장애 판별 (기계학습)</button>
    {% endbuttons %}
</div>
</form>
{% endblock %}

{% block javascript %}
<script>
    var cutoff = '{{ cutoff }}'
</script>
<script type="text/javascript"  src="{% static 'js/details.js' %}"></script>
{% endblock %}
